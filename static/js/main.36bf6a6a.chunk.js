(this["webpackJsonpspotify-stats"]=this["webpackJsonpspotify-stats"]||[]).push([[0],{13:function(t,e,a){},14:function(t,e,a){"use strict";a.r(e);var n=a(0),o=a.n(n),i=a(7),r=a.n(i),s=(a(13),a(1)),c=a(2),l=a(3),m=a(4);a(6);function u(t){return o.a.createElement("li",null,o.a.createElement("div",{className:"song"},o.a.createElement("div",null,o.a.createElement("img",{src:t.item.album.images[2].url,alt:"cover",className:"cover"})),o.a.createElement("div",null,o.a.createElement("h3",null,t.item.name),o.a.createElement("small",null,t.item.album.name," -",t.item.artists.map((function(t){return t.name})).join(", ")))))}function p(t){return o.a.createElement("li",null,o.a.createElement("div",{className:"artist"},o.a.createElement("img",{src:t.item.images[2].url,alt:"artist"})))}function h(t){var e=t.items.map((function(e){return"tracks"===t.type?o.a.createElement(u,{key:e.name,item:e}):o.a.createElement(p,{key:e.name,item:e})}));return o.a.createElement("ol",null,e)}var d=function(t){Object(m.a)(a,t);var e=Object(l.a)(a);function a(t){var n;return Object(s.a)(this,a),(n=e.call(this,t)).state={token:t.token,tracks:[],artists:[],user:{images:[{}]}},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var t=this;fetch("https://api.spotify.com/v1/me/top/tracks?limit=10",{method:"get",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.state.token}}).then((function(t){return t.json()})).then((function(e){t.setState({tracks:e.items})})),fetch("https://api.spotify.com/v1/me/top/artists?limit=10",{method:"get",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.state.token}}).then((function(t){return t.json()})).then((function(e){t.setState({artists:e.items})})),fetch("https://api.spotify.com/v1/me",{method:"get",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.state.token}}).then((function(t){return t.json()})).then((function(e){t.setState({user:e})}))}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"float"},o.a.createElement("h1",null,"TOP")),o.a.createElement("div",{className:"column-3 solid"},o.a.createElement("h2",null,"SONGS"),o.a.createElement(h,{items:this.state.tracks,type:"tracks"})),o.a.createElement("div",{className:"column-3 vertical"},o.a.createElement("h2",null,"ARTISTS"),o.a.createElement(h,{items:this.state.artists,type:"artists"})),o.a.createElement("div",{className:"column-3 profile"},o.a.createElement("img",{src:this.state.user.images[0].url,alt:"profile"})))}}]),a}(n.Component),f=["user-read-private","user-top-read"],v=window.location.hash.substring(1).split("&").reduce((function(t,e){if(e){var a=e.split("=");t[a[0]]=decodeURIComponent(a[1])}return t}),{});window.location.hash="";var E=function(t){Object(m.a)(a,t);var e=Object(l.a)(a);function a(){var t;return Object(s.a)(this,a),(t=e.call(this)).state={token:null},t}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var t=v.access_token;t&&this.setState({token:t})}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},!this.state.token&&o.a.createElement("div",{className:"empty"},o.a.createElement("a",{className:"login-button",href:"".concat("https://accounts.spotify.com/authorize","?client_id=").concat("cb1ca7c082da480d81d06ac3ad20b3d5","&redirect_uri=").concat("https://anromen.github.io/spotify-stats","&scope=").concat(f.join("%20"),"&response_type=token&show_dialog=true")},o.a.createElement("strong",null,"Login to Spotify"))),this.state.token&&o.a.createElement(d,{token:this.state.token}))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},6:function(t,e,a){},8:function(t,e,a){t.exports=a(14)}},[[8,1,2]]]);
//# sourceMappingURL=main.36bf6a6a.chunk.js.map